/* Hex Message Transition Styles */
.hex-message-transition-container {
    position: relative;
    width: 100%;
    height: 100%;
}

.hex-message-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* Remove transitions from container - let inner content handle it */
}

/* Apply transitions to the container AND hex-message */
.hex-message-content {
    transition: opacity 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.hex-message-content .hex-message {
    transition: all 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
    will-change: opacity, filter, transform;
}

/* Active state - fully visible */
.hex-message-content.active {
    pointer-events: all;
    z-index: 1;
}

.hex-message-content.active .hex-message {
    filter: blur(0px);
    transform: translateY(0);
}

/* Inactive state - hidden */
.hex-message-content.inactive {
    pointer-events: none;
    z-index: 0;
    opacity: 0;
}

.hex-message-content.inactive .hex-message {
    filter: blur(0.25rem);
    transform: translateY(0.125rem);
}

/* Transitioning out - fading with blur */
.hex-message-content.transitioning-out {
    pointer-events: none;
    z-index: 0;
    opacity: 0;
}

.hex-message-content.transitioning-out .hex-message {
    filter: blur(0.375rem);
    transform: translateY(-0.125rem);
}

/* LoD specific transitions */
.hex-message-lod.active {
    animation: lodEnter 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.hex-message-lod.transitioning-out {
    animation: lodExit 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes lodEnter {
    0% {
        filter: blur(0.5rem);
        transform: translateY(0.25rem);
    }
    100% {
        filter: blur(0rem);
        transform: translateY(0);
    }
}

@keyframes lodExit {
    0% {
        filter: blur(0rem);
        transform: translateY(0);
    }
    100% {
        filter: blur(0.5rem);
        transform: translateY(-0.25rem);
    }
}

/* Full message specific transitions */
.hex-message-full.active {
    animation: fullEnter 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.hex-message-full.transitioning-out {
    animation: fullExit 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes fullEnter {
    0% {
        filter: blur(0.375rem);
        transform: translateY(-0.25rem);
    }
    100% {
        filter: blur(0rem);
        transform: translateY(0);
    }
}

@keyframes fullExit {
    0% {
        filter: blur(0rem);
        transform: translateY(0);
    }
    100% {
        filter: blur(0.5rem);
        transform: translateY(0.25rem);
    }
}

/* Smooth zoom threshold crossover effects */
.hex-message-content {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
}

/* Micro animations for content swapping */
.hex-content {
    transition: all 200ms ease-out;
}

.hex-message-content.transitioning-out .hex-content {
    transform: translateY(-0.125rem);
    opacity: 0.8;
}

.hex-message-content.active .hex-content {
    transform: translateY(0);
    opacity: 1;
}